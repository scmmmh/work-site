<section class="publications grid-x">
  <ul class="cell small-12 medium-9 large-10">
    {% set years = [] %}
    {% for year in publications|sort(attribute=1, reverse=True) %}
      {% if year[1] not in years %}
        {% do years.append(year[1]) %}
        <li id="publication-{{ year[1] }}">{{ year[1] }}
          <ul>
            {% for pub in publications if pub[1] == year[1] %}
              <li>
                {%if pub[4] %}<a href="{{SITEURL}}/publications/{{pub[4]}}"><svg class="icon pdf"><use href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/icons.svg#pdf"></use></svg></a>{% endif %}
                {%if pub[4] %}<a href=""><svg class="icon link"><use href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/icons.svg#external-link"></use></svg></a>{% endif %}
                {{ pub[2] }}
              </li>
            {% endfor %}
          </ul>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
  <div class="cell hide-for-small-only medium-3 large-2">
    <nav>
      <ul class="menu vertical align-right">
        {% for year in years %}
          <li><a href="#publication-{{ year }}">{{ year }}</a></li>
        {% endfor %}
      </ul>
    </nav>
  </div>
</section>
